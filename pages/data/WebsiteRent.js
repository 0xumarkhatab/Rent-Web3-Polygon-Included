import { getProviderOrSigner } from "./accountsConnection";

export const WebsiteRentABI = [
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_PLATFORM_BENEFICIARY",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [],
		"name": "allWebsitesIPFSCid",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "deploymentToWebsite",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "website",
				"type": "string"
			}
		],
		"name": "getCurrentDeployment",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "website",
				"type": "string"
			}
		],
		"name": "getDappRentPrice",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "website",
				"type": "string"
			},
			{
				"internalType": "address",
				"name": "deployment",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "rentDays",
				"type": "uint256"
			}
		],
		"name": "rentDapp",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"name": "rentTime",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "website",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			}
		],
		"name": "updateDappRentPrice",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "Percentage",
				"type": "uint256"
			}
		],
		"name": "updateRentFee",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "cid",
				"type": "string"
			}
		],
		"name": "updateWebsitesIPFSLink",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "website",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "price",
				"type": "uint256"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "uploadWebsite",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"name": "websiteExists",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"name": "websiteOwner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"name": "websiteToDeployment",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]
export const WebsiteRentBytecode = {
  "object": "608060405260056008553480156200001657600080fd5b506040516200185c3803806200185c83398181016040528101906200003c91906200009b565b80600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505062000120565b600081519050620000958162000106565b92915050565b600060208284031215620000b457620000b362000101565b5b6000620000c48482850162000084565b91505092915050565b6000620000da82620000e1565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600080fd5b6200011181620000cd565b81146200011d57600080fd5b50565b61172c80620001306000396000f3fe6080604052600436106100c25760003560e01c8063b290e8491161007f578063d642c82611610059578063d642c8261461029e578063daa89953146102db578063dc007f2814610304578063e6f28a4114610341576100c2565b8063b290e849146101fb578063be756b0814610224578063c0ede36014610261576100c2565b8063153b483f146100c75780631f473b471461010457806322bfaa011461012f57806328dc3e7e1461016c5780632ca64e4d14610195578063abc74174146101be575b600080fd5b3480156100d357600080fd5b506100ee60048036038101906100e99190610f61565b61035d565b6040516100fb9190611228565b60405180910390f35b34801561011057600080fd5b50610119610456565b604051610126919061125e565b60405180910390f35b34801561013b57600080fd5b5061015660048036038101906101519190610f61565b6104e4565b6040516101639190611228565b60405180910390f35b34801561017857600080fd5b50610193600480360381019061018e91906110e4565b61052d565b005b3480156101a157600080fd5b506101bc60048036038101906101b79190611075565b610591565b005b3480156101ca57600080fd5b506101e560048036038101906101e09190610f61565b61071c565b6040516101f29190611228565b60405180910390f35b34801561020757600080fd5b50610222600480360381019061021d9190610f61565b610765565b005b34801561023057600080fd5b5061024b60048036038101906102469190610f34565b6107d9565b604051610258919061125e565b60405180910390f35b34801561026d57600080fd5b5061028860048036038101906102839190610f61565b610879565b60405161029591906112e0565b60405180910390f35b3480156102aa57600080fd5b506102c560048036038101906102c09190610f61565b6108a7565b6040516102d291906112e0565b60405180910390f35b3480156102e757600080fd5b5061030260048036038101906102fd9190611019565b610983565b005b34801561031057600080fd5b5061032b60048036038101906103269190610f61565b610a8f565b6040516103389190611243565b60405180910390f35b61035b60048036038101906103569190610faa565b610ac5565b005b6000426003836040516103709190611211565b90815260200160405180910390205411156103cb576000826040516103959190611211565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050610451565b60006003836040516103dd9190611211565b908152602001604051809103902081905550600080836040516104009190611211565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600090505b919050565b60068054610463906114e3565b80601f016020809104026020016040519081016040528092919081815260200182805461048f906114e3565b80156104dc5780601f106104b1576101008083540402835291602001916104dc565b820191906000526020600020905b8154815290600101906020018083116104bf57829003601f168201915b505050505081565b6005818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461058757600080fd5b8060088190555050565b600015156004846040516105a59190611211565b908152602001604051809103902060009054906101000a900460ff16151514610603576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105fa906112c0565b60405180910390fd5b60016004846040516106159190611211565b908152602001604051809103902060006101000a81548160ff0219169083151502179055508060058460405161064b9190611211565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600080846040516106a89190611211565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550816002846040516107059190611211565b908152602001604051809103902081905550505050565b6000818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107bf57600080fd5b80600690805190602001906107d5929190610df7565b5050565b600160205280600052604060002060009150905080546107f8906114e3565b80601f0160208091040260200160405190810160405280929190818152602001828054610824906114e3565b80156108715780601f1061084657610100808354040283529160200191610871565b820191906000526020600020905b81548152906001019060200180831161085457829003601f168201915b505050505081565b6003818051602081018201805184825260208301602085012081835280955050505050506000915090505481565b6000816004816040516108ba9190611211565b908152602001604051809103902060009054906101000a900460ff16610915576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161090c90611280565b60405180910390fd5b60006064600560028660405161092b9190611211565b90815260200160405180910390205461094491906113ff565b61094e91906113ce565b9050806002856040516109619190611211565b90815260200160405180910390205461097a9190611378565b92505050919050565b816004816040516109949190611211565b908152602001604051809103902060009054906101000a900460ff166109ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109e690611280565b60405180910390fd5b82600581604051610a009190611211565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610a6657600080fd5b82600285604051610a779190611211565b90815260200160405180910390208190555050505050565b6004818051602081018201805184825260208301602085012081835280955050505050506000915054906101000a900460ff1681565b82600481604051610ad69190611211565b908152602001604051809103902060009054906101000a900460ff16610b31576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b2890611280565b60405180910390fd5b42600385604051610b429190611211565b90815260200160405180910390205410610b91576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b88906112a0565b60405180910390fd5b600284604051610ba19190611211565b908152602001604051809103902054341015610bbc57600080fd5b8162015180610bcb91906113ff565b42610bd69190611378565b600385604051610be69190611211565b90815260200160405180910390208190555082600085604051610c099190611211565b908152602001604051809103902060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555083600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000209080519060200190610ca8929190610df7565b50600060646005600287604051610cbf9190611211565b908152602001604051809103902054610cd891906113ff565b610ce291906113ce565b9050600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015610d4c573d6000803e3d6000fd5b50600585604051610d5d9190611211565b908152602001604051809103902060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc600287604051610db59190611211565b9081526020016040518091039020549081150290604051600060405180830381858888f19350505050158015610def573d6000803e3d6000fd5b505050505050565b828054610e03906114e3565b90600052602060002090601f016020900481019282610e255760008555610e6c565b82601f10610e3e57805160ff1916838001178555610e6c565b82800160010185558215610e6c579182015b82811115610e6b578251825591602001919060010190610e50565b5b509050610e799190610e7d565b5090565b5b80821115610e96576000816000905550600101610e7e565b5090565b6000610ead610ea884611320565b6112fb565b905082815260208101848484011115610ec957610ec8611607565b5b610ed48482856114a1565b509392505050565b600081359050610eeb816116c8565b92915050565b600082601f830112610f0657610f05611602565b5b8135610f16848260208601610e9a565b91505092915050565b600081359050610f2e816116df565b92915050565b600060208284031215610f4a57610f49611611565b5b6000610f5884828501610edc565b91505092915050565b600060208284031215610f7757610f76611611565b5b600082013567ffffffffffffffff811115610f9557610f9461160c565b5b610fa184828501610ef1565b91505092915050565b600080600060608486031215610fc357610fc2611611565b5b600084013567ffffffffffffffff811115610fe157610fe061160c565b5b610fed86828701610ef1565b9350506020610ffe86828701610edc565b925050604061100f86828701610f1f565b9150509250925092565b600080604083850312156110305761102f611611565b5b600083013567ffffffffffffffff81111561104e5761104d61160c565b5b61105a85828601610ef1565b925050602061106b85828601610f1f565b9150509250929050565b60008060006060848603121561108e5761108d611611565b5b600084013567ffffffffffffffff8111156110ac576110ab61160c565b5b6110b886828701610ef1565b93505060206110c986828701610f1f565b92505060406110da86828701610edc565b9150509250925092565b6000602082840312156110fa576110f9611611565b5b600061110884828501610f1f565b91505092915050565b61111a81611459565b82525050565b6111298161146b565b82525050565b600061113a82611351565b611144818561135c565b93506111548185602086016114b0565b61115d81611616565b840191505092915050565b600061117382611351565b61117d818561136d565b935061118d8185602086016114b0565b80840191505092915050565b60006111a660278361135c565b91506111b182611627565b604082019050919050565b60006111c960198361135c565b91506111d482611676565b602082019050919050565b60006111ec60168361135c565b91506111f78261169f565b602082019050919050565b61120b81611497565b82525050565b600061121d8284611168565b915081905092915050565b600060208201905061123d6000830184611111565b92915050565b60006020820190506112586000830184611120565b92915050565b60006020820190508181036000830152611278818461112f565b905092915050565b6000602082019050818103600083015261129981611199565b9050919050565b600060208201905081810360008301526112b9816111bc565b9050919050565b600060208201905081810360008301526112d9816111df565b9050919050565b60006020820190506112f56000830184611202565b92915050565b6000611305611316565b90506113118282611515565b919050565b6000604051905090565b600067ffffffffffffffff82111561133b5761133a6115d3565b5b61134482611616565b9050602081019050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600061138382611497565b915061138e83611497565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156113c3576113c2611546565b5b828201905092915050565b60006113d982611497565b91506113e483611497565b9250826113f4576113f3611575565b5b828204905092915050565b600061140a82611497565b915061141583611497565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561144e5761144d611546565b5b828202905092915050565b600061146482611477565b9050919050565b60008115159050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b82818337600083830152505050565b60005b838110156114ce5780820151818401526020810190506114b3565b838111156114dd576000848401525b50505050565b600060028204905060018216806114fb57607f821691505b6020821081141561150f5761150e6115a4565b5b50919050565b61151e82611616565b810181811067ffffffffffffffff8211171561153d5761153c6115d3565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f546865205765627369746520646f6573206e6f74206578697374206f6e20486f60008201527f73744d794e465400000000000000000000000000000000000000000000000000602082015250565b7f5765627369746520697320616c72656164792072656e74656400000000000000600082015250565b7f7765627369746520616c72656164792065786973747300000000000000000000600082015250565b6116d181611459565b81146116dc57600080fd5b50565b6116e881611497565b81146116f357600080fd5b5056fea26469706673582212204010304fadcbcab129de5e525199496f369bb3915e8883e92aa606657c5c5b0564736f6c63430008070033",
    
}
export const WebsiteRentAddress = "0x88913a6bc717731820D9ba09f40e2d9CA9D85E7d";

const ethers = require("ethers");
let Network = "goerli";
const provider = ethers.providers.getDefaultProvider(
  "wss://autumn-necessary-frost.ethereum-goerli.quiknode.pro/07319f15c47c89543c7bf75aa284cc5347ace6e1/"
);

// Use your wallet's private key to deploy the contract

// const platformPrivateKey =
//   "d09eb95eabc1d6e02595e40aa8899a58e78d616e8618752a492a72df1f0f49d1"; // goerli test
// const PlatformWallet = new ethers.Wallet(platformPrivateKey, provider);
// export const WebsiteRentContract = new ethers.Contract(
//   WebsiteRentAddress,
//   WebsiteRentABI,
//   PlatformWallet
// );
export const getCustomNetworkWebsiteRentContract=async (network,web3modalRef,contractSetter)=>{
let signer = await getProviderOrSigner(network,web3modalRef,true);
const websiteRentContract = new ethers.Contract(
	WebsiteRentAddress,
	WebsiteRentABI,
	signer
  );
  if(contractSetter){
	contractSetter(websiteRentContract);
  }
return websiteRentContract;

}
