import { parseEther } from "ethers/lib/utils";
import { getProviderOrSigner } from "./accountsConnection";
import {getNetworkTronweb } from "./TronAccountsManagement";
import {
  getCustomNetworkWebsiteRentContract,
  getTronWebsiteRentContract,
} from "./WebsiteRent";
export const SaleABI = [
  {
    inputs: [
      {
        internalType: "address",
        name: "whitelistContractAddress",
        type: "address",
      },
      {
        internalType: "string",
        name: "name",
        type: "string",
      },
      {
        internalType: "string",
        name: "symbol",
        type: "string",
      },
      {
        internalType: "address",
        name: "_owner",
        type: "address",
      },
      {
        internalType: "string",
        name: "_baseURI",
        type: "string",
      },
      {
        internalType: "uint256",
        name: "startTime",
        type: "uint256",
      },
      {
        internalType: "uint256",
        name: "endTime",
        type: "uint256",
      },
      {
        internalType: "uint256",
        name: "_presaleMintRate",
        type: "uint256",
      },
      {
        internalType: "uint256",
        name: "_publicMintRate",
        type: "uint256",
      },
      {
        internalType: "uint256",
        name: "_totalSupply",
        type: "uint256",
      },
    ],
    stateMutability: "nonpayable",
    type: "constructor",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "owner",
        type: "address",
      },
      {
        indexed: true,
        internalType: "address",
        name: "approved",
        type: "address",
      },
      {
        indexed: true,
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "Approval",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "owner",
        type: "address",
      },
      {
        indexed: true,
        internalType: "address",
        name: "operator",
        type: "address",
      },
      {
        indexed: false,
        internalType: "bool",
        name: "approved",
        type: "bool",
      },
    ],
    name: "ApprovalForAll",
    type: "event",
  },
  {
    anonymous: false,
    inputs: [
      {
        indexed: true,
        internalType: "address",
        name: "from",
        type: "address",
      },
      {
        indexed: true,
        internalType: "address",
        name: "to",
        type: "address",
      },
      {
        indexed: true,
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "Transfer",
    type: "event",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "_openingTime",
        type: "uint256",
      },
      {
        internalType: "uint256",
        name: "_closingTime",
        type: "uint256",
      },
    ],
    name: "TimedCrowdsale",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "to",
        type: "address",
      },
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "approve",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "owner",
        type: "address",
      },
    ],
    name: "balanceOf",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "baseExtension",
    outputs: [
      {
        internalType: "string",
        name: "",
        type: "string",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "baseURI",
    outputs: [
      {
        internalType: "string",
        name: "",
        type: "string",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "checkStage",
    outputs: [
      {
        internalType: "enum Sale.Stage",
        name: "stage",
        type: "uint8",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "endTime",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "getApproved",
    outputs: [
      {
        internalType: "address",
        name: "",
        type: "address",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "getNFTPrice",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "owner",
        type: "address",
      },
      {
        internalType: "address",
        name: "operator",
        type: "address",
      },
    ],
    name: "isApprovedForAll",
    outputs: [
      {
        internalType: "bool",
        name: "",
        type: "bool",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "xyz",
        type: "address",
      },
    ],
    name: "isWhitelisted",
    outputs: [
      {
        internalType: "bool",
        name: "",
        type: "bool",
      },
    ],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [],
    name: "name",
    outputs: [
      {
        internalType: "string",
        name: "",
        type: "string",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "owner",
    outputs: [
      {
        internalType: "address",
        name: "",
        type: "address",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "ownerOf",
    outputs: [
      {
        internalType: "address",
        name: "",
        type: "address",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "presaleMintRate",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "publicMintRate",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "purchaseThisToken",
    outputs: [],
    stateMutability: "payable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "from",
        type: "address",
      },
      {
        internalType: "address",
        name: "to",
        type: "address",
      },
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "safeTransferFrom",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "from",
        type: "address",
      },
      {
        internalType: "address",
        name: "to",
        type: "address",
      },
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
      {
        internalType: "bytes",
        name: "data",
        type: "bytes",
      },
    ],
    name: "safeTransferFrom",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "operator",
        type: "address",
      },
      {
        internalType: "bool",
        name: "approved",
        type: "bool",
      },
    ],
    name: "setApprovalForAll",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "newFee",
        type: "uint256",
      },
    ],
    name: "setMINTING_FEE_FRACTION",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
      {
        internalType: "uint256",
        name: "price",
        type: "uint256",
      },
    ],
    name: "setNFTPrice",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "newBeneficiary",
        type: "address",
      },
    ],
    name: "setPLATFORM_BENEFICIARY",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [],
    name: "startTime",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "bytes4",
        name: "interfaceId",
        type: "bytes4",
      },
    ],
    name: "supportsInterface",
    outputs: [
      {
        internalType: "bool",
        name: "",
        type: "bool",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [],
    name: "symbol",
    outputs: [
      {
        internalType: "string",
        name: "",
        type: "string",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "tokenURI",
    outputs: [
      {
        internalType: "string",
        name: "",
        type: "string",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "from",
        type: "address",
      },
      {
        internalType: "address",
        name: "to",
        type: "address",
      },
      {
        internalType: "uint256",
        name: "tokenId",
        type: "uint256",
      },
    ],
    name: "transferFrom",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [],
    name: "withdraw",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
];
export const SaleBytecode = {
  object:
    "60806040526040518060400160405280600581526020017f2e6a736f6e000000000000000000000000000000000000000000000000000000815250600e90805190602001906200005192919062000224565b5073be68ee8a43ce119a56625d7e645abaf74652d5e1600f60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506064601055348015620000b957600080fd5b5060405162004010380380620040108339818101604052810190620000df919062000380565b88888160009080519060200190620000f992919062000224565b5080600190805190602001906200011292919062000224565b50505089600760006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555086600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600f60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550846008819055508360098190555082600b8190555081600c8190555085600d90805190602001906200020c92919062000224565b508060118190555050505050505050505050620006c9565b8280546200023290620005a6565b90600052602060002090601f016020900481019282620002565760008555620002a2565b82601f106200027157805160ff1916838001178555620002a2565b82800160010185558215620002a2579182015b82811115620002a157825182559160200191906001019062000284565b5b509050620002b19190620002b5565b5090565b5b80821115620002d0576000816000905550600101620002b6565b5090565b6000620002eb620002e584620004fc565b620004d3565b9050828152602081018484840111156200030a576200030962000675565b5b6200031784828562000570565b509392505050565b600081519050620003308162000695565b92915050565b600082601f8301126200034e576200034d62000670565b5b815162000360848260208601620002d4565b91505092915050565b6000815190506200037a81620006af565b92915050565b6000806000806000806000806000806101408b8d031215620003a757620003a66200067f565b5b6000620003b78d828e016200031f565b9a505060208b015167ffffffffffffffff811115620003db57620003da6200067a565b5b620003e98d828e0162000336565b99505060408b015167ffffffffffffffff8111156200040d576200040c6200067a565b5b6200041b8d828e0162000336565b98505060606200042e8d828e016200031f565b97505060808b015167ffffffffffffffff8111156200045257620004516200067a565b5b620004608d828e0162000336565b96505060a0620004738d828e0162000369565b95505060c0620004868d828e0162000369565b94505060e0620004998d828e0162000369565b935050610100620004ad8d828e0162000369565b925050610120620004c18d828e0162000369565b9150509295989b9194979a5092959850565b6000620004df620004f2565b9050620004ed8282620005dc565b919050565b6000604051905090565b600067ffffffffffffffff8211156200051a576200051962000641565b5b620005258262000684565b9050602081019050919050565b60006200053f8262000546565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60005b838110156200059057808201518184015260208101905062000573565b83811115620005a0576000848401525b50505050565b60006002820490506001821680620005bf57607f821691505b60208210811415620005d657620005d562000612565b5b50919050565b620005e78262000684565b810181811067ffffffffffffffff8211171562000609576200060862000641565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b620006a08162000532565b8114620006ac57600080fd5b50565b620006ba8162000566565b8114620006c657600080fd5b50565b61393780620006d96000396000f3fe6080604052600436106101c25760003560e01c806370a08231116100f7578063b0aedd1311610095578063e6c362c911610064578063e6c362c914610656578063e740655814610672578063e985e9c51461069b578063f7a5645f146106d8576101c2565b8063b0aedd131461059c578063b88d4fde146105c5578063c6682862146105ee578063c87b56dd14610619576101c2565b80638da5cb5b116100d15780638da5cb5b146104e0578063929761791461050b57806395d89b4114610548578063a22cb46514610573576101c2565b806370a082311461044d57806378e979251461048a5780637f93c751146104b5576101c2565b80633197cbb61161016457806342842e0e1161013e57806342842e0e1461039157806362e547db146103ba5780636352211e146103e55780636c0360eb14610422576101c2565b80633197cbb6146103125780633af32abf1461033d5780633ccfd60b1461037a576101c2565b80630944e35d116101a05780630944e35d1461026c578063095ea7b31461029557806321ba7e34146102be57806323b872dd146102e9576101c2565b806301ffc9a7146101c757806306fdde0314610204578063081812fc1461022f575b600080fd5b3480156101d357600080fd5b506101ee60048036038101906101e991906126fa565b610701565b6040516101fb9190612c87565b60405180910390f35b34801561021057600080fd5b506102196107e3565b6040516102269190612cbd565b60405180910390f35b34801561023b57600080fd5b5061025660048036038101906102519190612754565b610875565b6040516102639190612be9565b60405180910390f35b34801561027857600080fd5b50610293600480360381019061028e9190612781565b6108bb565b005b3480156102a157600080fd5b506102bc60048036038101906102b7919061268d565b6109e3565b005b3480156102ca57600080fd5b506102d3610afb565b6040516102e09190612f3f565b60405180910390f35b3480156102f557600080fd5b50610310600480360381019061030b9190612577565b610b01565b005b34801561031e57600080fd5b50610327610b61565b6040516103349190612f3f565b60405180910390f35b34801561034957600080fd5b50610364600480360381019061035f919061250a565b610b6b565b6040516103719190612c87565b60405180910390f35b34801561038657600080fd5b5061038f610c32565b005b34801561039d57600080fd5b506103b860048036038101906103b39190612577565b610cf7565b005b3480156103c657600080fd5b506103cf610d17565b6040516103dc9190612f3f565b60405180910390f35b3480156103f157600080fd5b5061040c60048036038101906104079190612754565b610d1d565b6040516104199190612be9565b60405180910390f35b34801561042e57600080fd5b50610437610dcf565b6040516104449190612cbd565b60405180910390f35b34801561045957600080fd5b50610474600480360381019061046f919061250a565b610e5d565b6040516104819190612f3f565b60405180910390f35b34801561049657600080fd5b5061049f610f15565b6040516104ac9190612f3f565b60405180910390f35b3480156104c157600080fd5b506104ca610f1f565b6040516104d79190612ca2565b60405180910390f35b3480156104ec57600080fd5b506104f5610f6c565b6040516105029190612be9565b60405180910390f35b34801561051757600080fd5b50610532600480360381019061052d9190612754565b610f92565b60405161053f9190612f3f565b60405180910390f35b34801561055457600080fd5b5061055d61106d565b60405161056a9190612cbd565b60405180910390f35b34801561057f57600080fd5b5061059a6004803603810190610595919061264d565b6110ff565b005b3480156105a857600080fd5b506105c360048036038101906105be919061250a565b611115565b005b3480156105d157600080fd5b506105ec60048036038101906105e791906125ca565b6111b3565b005b3480156105fa57600080fd5b50610603611215565b6040516106109190612cbd565b60405180910390f35b34801561062557600080fd5b50610640600480360381019061063b9190612754565b6112a3565b60405161064d9190612cbd565b60405180910390f35b610670600480360381019061066b9190612754565b6112e3565b005b34801561067e57600080fd5b5061069960048036038101906106949190612781565b611652565b005b3480156106a757600080fd5b506106c260048036038101906106bd9190612537565b6116e4565b6040516106cf9190612c87565b60405180910390f35b3480156106e457600080fd5b506106ff60048036038101906106fa9190612754565b611778565b005b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806107cc57507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806107dc57506107db826117dc565b5b9050919050565b6060600080546107f2906131c8565b80601f016020809104026020016040519081016040528092919081815260200182805461081e906131c8565b801561086b5780601f106108405761010080835404028352916020019161086b565b820191906000526020600020905b81548152906001019060200180831161084e57829003601f168201915b5050505050905090565b600061088082611846565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b3373ffffffffffffffffffffffffffffffffffffffff16600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461094b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094290612e1f565b60405180910390fd5b4282101561098e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161098590612e9f565b60405180910390fd5b818110156109d1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109c890612eff565b60405180910390fd5b81600881905550806009819055505050565b60006109ee82610d1d565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610a5f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5690612edf565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610a7e611891565b73ffffffffffffffffffffffffffffffffffffffff161480610aad5750610aac81610aa7611891565b6116e4565b5b610aec576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ae390612e5f565b60405180910390fd5b610af68383611899565b505050565b600c5481565b610b12610b0c611891565b82611952565b610b51576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b4890612f1f565b60405180910390fd5b610b5c8383836119e7565b505050565b6000600954905090565b6000600760009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16633af32abf836040518263ffffffff1660e01b8152600401610bc89190612be9565b602060405180830381600087803b158015610be257600080fd5b505af1158015610bf6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610c1a91906126cd565b15610c285760019050610c2d565b600090505b919050565b3373ffffffffffffffffffffffffffffffffffffffff16600f60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610c8c57600080fd5b600f60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc479081150290604051600060405180830381858888f19350505050158015610cf4573d6000803e3d6000fd5b50565b610d12838383604051806020016040528060008152506111b3565b505050565b600b5481565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610dc6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dbd90612ebf565b60405180910390fd5b80915050919050565b600d8054610ddc906131c8565b80601f0160208091040260200160405190810160405280929190818152602001828054610e08906131c8565b8015610e555780601f10610e2a57610100808354040283529160200191610e55565b820191906000526020600020905b815481529060010190602001808311610e3857829003601f168201915b505050505081565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610ece576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ec590612e3f565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b6000600854905090565b6000600854421015610f345760009050610f69565b6008544210158015610f4857506009544211155b15610f565760019050610f69565b6009544210610f685760029050610f69565b5b90565b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000905060016002811115610fad57610fac613303565b5b610fb5610f1f565b6002811115610fc757610fc6613303565b5b1415610fd757600b549050611011565b600280811115610fea57610fe9613303565b5b610ff2610f1f565b600281111561100457611003613303565b5b141561101057600c5490505b5b600060126000858152602001908152602001600020541461104357601260008481526020019081526020016000205490505b600060105482611053919061305e565b905080826110619190613008565b91508192505050919050565b60606001805461107c906131c8565b80601f01602080910402602001604051908101604052809291908181526020018280546110a8906131c8565b80156110f55780601f106110ca576101008083540402835291602001916110f5565b820191906000526020600020905b8154815290600101906020018083116110d857829003601f168201915b5050505050905090565b61111161110a611891565b8383611c4e565b5050565b3373ffffffffffffffffffffffffffffffffffffffff16600f60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff161461116f57600080fd5b80600f60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6111c46111be611891565b83611952565b611203576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111fa90612f1f565b60405180910390fd5b61120f84848484611dbb565b50505050565b600e8054611222906131c8565b80601f016020809104026020016040519081016040528092919081815260200182805461124e906131c8565b801561129b5780601f106112705761010080835404028352916020019161129b565b820191906000526020600020905b81548152906001019060200180831161127e57829003601f168201915b505050505081565b606060006112b083611e17565b9050600d81600e6040516020016112c993929190612bb8565b604051602081830303815290604052905080915050919050565b600060028111156112f7576112f6613303565b5b6112ff610f1f565b600281111561131157611310613303565b5b1415611352576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161134990612cdf565b60405180910390fd5b6001600281111561136657611365613303565b5b61136e610f1f565b60028111156113805761137f613303565b5b14156113cf5761138f33610b6b565b6113ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113c590612cff565b60405180910390fd5b5b60006113da82610f92565b90508034101561141f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161141690612dbf565b60405180910390fd5b61142882611f7e565b3373ffffffffffffffffffffffffffffffffffffffff1661144883610d1d565b73ffffffffffffffffffffffffffffffffffffffff16146115e4573073ffffffffffffffffffffffffffffffffffffffff1661148383610875565b73ffffffffffffffffffffffffffffffffffffffff16146114d9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114d090612d1f565b60405180910390fd5b60006114e483610d1d565b90503073ffffffffffffffffffffffffffffffffffffffff166342842e0e61150b85610d1d565b33866040518463ffffffff1660e01b815260040161152b93929190612c04565b600060405180830381600087803b15801561154557600080fd5b505af1158015611559573d6000803e3d6000fd5b5050505060126000848152602001908152602001600020549150600060105483611583919061305e565b905060008184611593919061308f565b90508273ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f193505050501580156115db573d6000803e3d6000fd5b5050505061164e565b600f60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561164c573d6000803e3d6000fd5b505b5050565b3373ffffffffffffffffffffffffffffffffffffffff1661167283610d1d565b73ffffffffffffffffffffffffffffffffffffffff16146116c8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116bf90612d7f565b60405180910390fd5b8060126000848152602001908152602001600020819055505050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b3373ffffffffffffffffffffffffffffffffffffffff16600f60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146117d257600080fd5b8060108190555050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b61184f81611f99565b61188e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161188590612ebf565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff1661190c83610d1d565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061195e83610d1d565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1614806119a0575061199f81856116e4565b5b806119de57508373ffffffffffffffffffffffffffffffffffffffff166119c684610875565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff16611a0782610d1d565b73ffffffffffffffffffffffffffffffffffffffff1614611a5d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a5490612d5f565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611acd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ac490612ddf565b60405180910390fd5b611ad8838383612005565b611ae3600082611899565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611b33919061308f565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611b8a9190613008565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611c4983838361200a565b505050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611cbd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cb490612dff565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051611dae9190612c87565b60405180910390a3505050565b611dc68484846119e7565b611dd28484848461200f565b611e11576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e0890612d3f565b60405180910390fd5b50505050565b60606000821415611e5f576040518060400160405280600181526020017f30000000000000000000000000000000000000000000000000000000000000008152509050611f79565b600082905060005b60008214611e91578080611e7a9061322b565b915050600a82611e8a919061305e565b9150611e67565b60008167ffffffffffffffff811115611ead57611eac613390565b5b6040519080825280601f01601f191660200182016040528015611edf5781602001600182028036833780820191505090505b50905060008290508593505b60008414611f7157600a84611f009190613274565b6030611f0c9190613008565b60f81b8282611f1a9061319e565b92508281518110611f2e57611f2d613361565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a84611f6a919061305e565b9350611eeb565b819450505050505b919050565b611f8781611f99565b611f9657611f9533826121a6565b5b50565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b505050565b505050565b60006120308473ffffffffffffffffffffffffffffffffffffffff166121c4565b15612199578373ffffffffffffffffffffffffffffffffffffffff1663150b7a02612059611891565b8786866040518563ffffffff1660e01b815260040161207b9493929190612c3b565b602060405180830381600087803b15801561209557600080fd5b505af19250505080156120c657506040513d601f19601f820116820180604052508101906120c39190612727565b60015b612149573d80600081146120f6576040519150601f19603f3d011682016040523d82523d6000602084013e6120fb565b606091505b50600081511415612141576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161213890612d3f565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161491505061219e565b600190505b949350505050565b6121c08282604051806020016040528060008152506121e7565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6121f18383612242565b6121fe600084848461200f565b61223d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161223490612d3f565b60405180910390fd5b505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156122b2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016122a990612e7f565b60405180910390fd5b6122bb81611f99565b156122fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016122f290612d9f565b60405180910390fd5b61230760008383612005565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546123579190613008565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a46124186000838361200a565b5050565b600061242f61242a84612f7f565b612f5a565b90508281526020810184848401111561244b5761244a6133c4565b5b61245684828561315c565b509392505050565b60008135905061246d816138a5565b92915050565b600081359050612482816138bc565b92915050565b600081519050612497816138bc565b92915050565b6000813590506124ac816138d3565b92915050565b6000815190506124c1816138d3565b92915050565b600082601f8301126124dc576124db6133bf565b5b81356124ec84826020860161241c565b91505092915050565b600081359050612504816138ea565b92915050565b6000602082840312156125205761251f6133ce565b5b600061252e8482850161245e565b91505092915050565b6000806040838503121561254e5761254d6133ce565b5b600061255c8582860161245e565b925050602061256d8582860161245e565b9150509250929050565b6000806000606084860312156125905761258f6133ce565b5b600061259e8682870161245e565b93505060206125af8682870161245e565b92505060406125c0868287016124f5565b9150509250925092565b600080600080608085870312156125e4576125e36133ce565b5b60006125f28782880161245e565b94505060206126038782880161245e565b9350506040612614878288016124f5565b925050606085013567ffffffffffffffff811115612635576126346133c9565b5b612641878288016124c7565b91505092959194509250565b60008060408385031215612664576126636133ce565b5b60006126728582860161245e565b925050602061268385828601612473565b9150509250929050565b600080604083850312156126a4576126a36133ce565b5b60006126b28582860161245e565b92505060206126c3858286016124f5565b9150509250929050565b6000602082840312156126e3576126e26133ce565b5b60006126f184828501612488565b91505092915050565b6000602082840312156127105761270f6133ce565b5b600061271e8482850161249d565b91505092915050565b60006020828403121561273d5761273c6133ce565b5b600061274b848285016124b2565b91505092915050565b60006020828403121561276a576127696133ce565b5b6000612778848285016124f5565b91505092915050565b60008060408385031215612798576127976133ce565b5b60006127a6858286016124f5565b92505060206127b7858286016124f5565b9150509250929050565b6127ca816130c3565b82525050565b6127d9816130d5565b82525050565b60006127ea82612fc5565b6127f48185612fdb565b935061280481856020860161316b565b61280d816133d3565b840191505092915050565b6128218161314a565b82525050565b600061283282612fd0565b61283c8185612fec565b935061284c81856020860161316b565b612855816133d3565b840191505092915050565b600061286b82612fd0565b6128758185612ffd565b935061288581856020860161316b565b80840191505092915050565b6000815461289e816131c8565b6128a88186612ffd565b945060018216600081146128c357600181146128d457612907565b60ff19831686528186019350612907565b6128dd85612fb0565b60005b838110156128ff578154818901526001820191506020810190506128e0565b838801955050505b50505092915050565b600061291d601883612fec565b9150612928826133e4565b602082019050919050565b6000612940602183612fec565b915061294b8261340d565b604082019050919050565b6000612963602283612fec565b915061296e8261345c565b604082019050919050565b6000612986603283612fec565b9150612991826134ab565b604082019050919050565b60006129a9602583612fec565b91506129b4826134fa565b604082019050919050565b60006129cc602383612fec565b91506129d782613549565b604082019050919050565b60006129ef601c83612fec565b91506129fa82613598565b602082019050919050565b6000612a12602a83612fec565b9150612a1d826135c1565b604082019050919050565b6000612a35602483612fec565b9150612a4082613610565b604082019050919050565b6000612a58601983612fec565b9150612a638261365f565b602082019050919050565b6000612a7b601583612fec565b9150612a8682613688565b602082019050919050565b6000612a9e602983612fec565b9150612aa9826136b1565b604082019050919050565b6000612ac1603e83612fec565b9150612acc82613700565b604082019050919050565b6000612ae4602083612fec565b9150612aef8261374f565b602082019050919050565b6000612b07601983612fec565b9150612b1282613778565b602082019050919050565b6000612b2a601883612fec565b9150612b35826137a1565b602082019050919050565b6000612b4d602183612fec565b9150612b58826137ca565b604082019050919050565b6000612b70601983612fec565b9150612b7b82613819565b602082019050919050565b6000612b93602e83612fec565b9150612b9e82613842565b604082019050919050565b612bb281613140565b82525050565b6000612bc48286612891565b9150612bd08285612860565b9150612bdc8284612891565b9150819050949350505050565b6000602082019050612bfe60008301846127c1565b92915050565b6000606082019050612c1960008301866127c1565b612c2660208301856127c1565b612c336040830184612ba9565b949350505050565b6000608082019050612c5060008301876127c1565b612c5d60208301866127c1565b612c6a6040830185612ba9565b8181036060830152612c7c81846127df565b905095945050505050565b6000602082019050612c9c60008301846127d0565b92915050565b6000602082019050612cb76000830184612818565b92915050565b60006020820190508181036000830152612cd78184612827565b905092915050565b60006020820190508181036000830152612cf881612910565b9050919050565b60006020820190508181036000830152612d1881612933565b9050919050565b60006020820190508181036000830152612d3881612956565b9050919050565b60006020820190508181036000830152612d5881612979565b9050919050565b60006020820190508181036000830152612d788161299c565b9050919050565b60006020820190508181036000830152612d98816129bf565b9050919050565b60006020820190508181036000830152612db8816129e2565b9050919050565b60006020820190508181036000830152612dd881612a05565b9050919050565b60006020820190508181036000830152612df881612a28565b9050919050565b60006020820190508181036000830152612e1881612a4b565b9050919050565b60006020820190508181036000830152612e3881612a6e565b9050919050565b60006020820190508181036000830152612e5881612a91565b9050919050565b60006020820190508181036000830152612e7881612ab4565b9050919050565b60006020820190508181036000830152612e9881612ad7565b9050919050565b60006020820190508181036000830152612eb881612afa565b9050919050565b60006020820190508181036000830152612ed881612b1d565b9050919050565b60006020820190508181036000830152612ef881612b40565b9050919050565b60006020820190508181036000830152612f1881612b63565b9050919050565b60006020820190508181036000830152612f3881612b86565b9050919050565b6000602082019050612f546000830184612ba9565b92915050565b6000612f64612f75565b9050612f7082826131fa565b919050565b6000604051905090565b600067ffffffffffffffff821115612f9a57612f99613390565b5b612fa3826133d3565b9050602081019050919050565b60008190508160005260206000209050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600081905092915050565b600061301382613140565b915061301e83613140565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115613053576130526132a5565b5b828201905092915050565b600061306982613140565b915061307483613140565b925082613084576130836132d4565b5b828204905092915050565b600061309a82613140565b91506130a583613140565b9250828210156130b8576130b76132a5565b5b828203905092915050565b60006130ce82613120565b9050919050565b60008115159050919050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b600081905061311b82613891565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60006131558261310d565b9050919050565b82818337600083830152505050565b60005b8381101561318957808201518184015260208101905061316e565b83811115613198576000848401525b50505050565b60006131a982613140565b915060008214156131bd576131bc6132a5565b5b600182039050919050565b600060028204905060018216806131e057607f821691505b602082108114156131f4576131f3613332565b5b50919050565b613203826133d3565b810181811067ffffffffffffffff8211171561322257613221613390565b5b80604052505050565b600061323682613140565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415613269576132686132a5565b5b600182019050919050565b600061327f82613140565b915061328a83613140565b92508261329a576132996132d4565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f53616c6520686173206e6f742073746172746564207965740000000000000000600082015250565b7f50524553414c453a596f7520617265206e6f742057686974656c69737465642060008201527f2100000000000000000000000000000000000000000000000000000000000000602082015250565b7f546f6b656e206973206e6f7420617661696c61626c6520746f207472616e736660008201527f6572000000000000000000000000000000000000000000000000000000000000602082015250565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b7f4f6e6c79204f776e6572732063616e206368616e6765205072696365206f662060008201527f4e46540000000000000000000000000000000000000000000000000000000000602082015250565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b7f496e73756666696369656e742046756e64732073656e7420666f7220546f6b6560008201527f6e20507572636861736500000000000000000000000000000000000000000000602082015250565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b7f596f7520617265206e6f7420746865206f776e65720000000000000000000000600082015250565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000602082015250565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b7f496e76616c69642053616c65204f70656e696e672054696d6500000000000000600082015250565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b7f496e76616c69642053616c6520436c6f73696e672054696d6500000000000000600082015250565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206e6f7220617070726f766564000000000000000000000000000000000000602082015250565b600381106138a2576138a1613303565b5b50565b6138ae816130c3565b81146138b957600080fd5b50565b6138c5816130d5565b81146138d057600080fd5b50565b6138dc816130e1565b81146138e757600080fd5b50565b6138f381613140565b81146138fe57600080fd5b5056fea2646970667358221220bfa0a715b91a7430e5a08f8329fdf924d0e9ca695eb139b05c90d320166b856164736f6c63430008070033",
};
export const SaleTrackerABI = [
  {
    inputs: [
      {
        internalType: "address",
        name: "user",
        type: "address",
      },
      {
        internalType: "address",
        name: "saleAddress",
        type: "address",
      },
    ],
    name: "addUserSale",
    outputs: [],
    stateMutability: "nonpayable",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "_owner",
        type: "address",
      },
    ],
    stateMutability: "nonpayable",
    type: "constructor",
  },
  {
    inputs: [],
    name: "totalSales",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "",
        type: "address",
      },
    ],
    name: "userNumberOfSales",
    outputs: [
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
  {
    inputs: [
      {
        internalType: "address",
        name: "",
        type: "address",
      },
      {
        internalType: "uint256",
        name: "",
        type: "uint256",
      },
    ],
    name: "userToSale",
    outputs: [
      {
        internalType: "address",
        name: "",
        type: "address",
      },
    ],
    stateMutability: "view",
    type: "function",
  },
];
export const SaleTrackerBytecode = {
  object:
    "608060405234801561001057600080fd5b506040516105f53803806105f58339818101604052810190610032919061008e565b80600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610109565b600081519050610088816100f2565b92915050565b6000602082840312156100a4576100a36100ed565b5b60006100b284828501610079565b91505092915050565b60006100c6826100cd565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600080fd5b6100fb816100bb565b811461010657600080fd5b50565b6104dd806101186000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80636605ff6614610051578063ed0bd6681461006f578063edd117061461009f578063f6fec657146100cf575b600080fd5b6100596100eb565b6040516100669190610398565b60405180910390f35b6100896004803603810190610084919061031f565b6100f1565b604051610096919061037d565b60405180910390f35b6100b960048036038101906100b491906102b2565b61013f565b6040516100c69190610398565b60405180910390f35b6100e960048036038101906100e491906102df565b610157565b005b60035481565b6000602052816000526040600020818154811061010d57600080fd5b906000526020600020016000915091509054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60016020528060005260406000206000915090505481565b60018060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020546101a291906103b3565b600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819080600181540180825580915050600190039060005260206000200160009091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b60008135905061029781610479565b92915050565b6000813590506102ac81610490565b92915050565b6000602082840312156102c8576102c7610474565b5b60006102d684828501610288565b91505092915050565b600080604083850312156102f6576102f5610474565b5b600061030485828601610288565b925050602061031585828601610288565b9150509250929050565b6000806040838503121561033657610335610474565b5b600061034485828601610288565b92505060206103558582860161029d565b9150509250929050565b61036881610409565b82525050565b6103778161043b565b82525050565b6000602082019050610392600083018461035f565b92915050565b60006020820190506103ad600083018461036e565b92915050565b60006103be8261043b565b91506103c98361043b565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156103fe576103fd610445565b5b828201905092915050565b60006104148261041b565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600080fd5b61048281610409565b811461048d57600080fd5b50565b6104998161043b565b81146104a457600080fd5b5056fea2646970667358221220b77a2195515108f416f291152666a3bd936a1eda2e533fad98a46d344e16e84164736f6c63430008070033",
};

// Ethereum
// Goerli Network Deployed Address
export const SaleTrackerAddress = "0x2A22Bf734Aa8250A320B63F56441e52b2F904A32";

// Tron
// Nile

export const SaleTrackerNileAddress = "TMN4Xc2XUVi4TmiiL7FzwTrYDh1JL7QWA6";

// Shasta
export const SaleTrackerShastaAddress = null;
//

// Polygon

const ethers = require("ethers");

// const provider = ethers.providers.getDefaultProvider(
//   'wss://little-quaint-liquid.ethereum-goerli.discover.quiknode.pro/b2367619fda52ade145960cc52e5bd23015b30ae/',
// )
// const privateKey =
//   'd09eb95eabc1d6e02595e40aa8899a58e78d616e8618752a492a72df1f0f49d1'
// const wallet = new ethers.Wallet(privateKey, provider)
// export const SaleTrackerContract = new ethers.Contract(
//   SaleTrackerAddress,
//   SaleTrackerABI,
//   wallet,
// )

async function getBlockchainSpecificWebsiteRentContract(
  Blockchain,
  NetworkChain,
  web3modalRef
) {
  let websiteRentContract = null;
  if (Blockchain == "tron") {
    websiteRentContract = await getTronWebsiteRentContract(NetworkChain);
  } else if (!Blockchain || Blockchain == "ethereum") {
    websiteRentContract = await getCustomNetworkWebsiteRentContract(
      NetworkChain,
      web3modalRef
    );
  } else if (Blockchain == "polygon") {
    //to be implemented yet
  }
  return websiteRentContract;
}
async function getBlockchainSpecificSaleTrackerContract(
  Blockchain,
  NetworkChain,
  web3modalRef
) {
  let contract = null;
  if (Blockchain == "tron") {
    contract = await getTronSaleTrackerContract(NetworkChain);
    // console.log("want to return Sale Tracker contract ", contract);
    return contract;
  } else if (!Blockchain || Blockchain == "ethereum") {
    contract = await getCustomNetworkSaleTrackerContract(
      NetworkChain,
      web3modalRef
    );
    return contract;
  } else if (Blockchain == "polygon") {
    //to be implemented yet
    return WhitelistTracker;
  } else {
    return null;
  }
}
async function getBlockchainSpecificSaleFactoryContract(
  Blockchain,
  NetworkChain,
  web3modalRef,
  contractAddress
) {
  let contract = null;
  if (Blockchain == "tron") {
    contract = await getTronSaleFactory(NetworkChain, contractAddress);
    // console.log("want to return whitelistTracker ", contract);
    return contract;
  } else if (!Blockchain || Blockchain == "ethereum") {
    contract = await getCustomNetworkSaleContract(
      NetworkChain,
      web3modalRef,
      contractAddress
    );
    return contract;
  } else if (Blockchain == "polygon") {
    //to be implemented yet
    return contract;
  } else {
    return null;
  }
  return contract;
}

export const fetchSaleAddresses = async (
  contract,
  owner,
  setter,
  Blockchain
) => {
  let TrackerContract = contract;
  try {
    // console.log("getting sales for", owner, "in", TrackerContract);

    if (Blockchain == "tron") {
      let numSales = await TrackerContract.userNumberOfSales(owner).call();
      let allSales = [];
      // console.log("Owner has ", numSales, " Sales");
      for (let index = 0; index < numSales; index++) {
        let SaleAddress = await TrackerContract.userToSale(owner, index).call();
        allSales.push(SaleAddress);
      }
      if (setter != undefined) {
        setter(allSales);
      }

      return allSales;
    } else if (!Blockchain || Blockchain == "ethereum") {
      return await TrackerContract.userNumberOfSales(owner).then(
        async (numSales) => {
          let allSales = [];
          //   console.log("Owner has ", numSales, " Sales");
          for (let index = 0; index < numSales; index++) {
            let SaleAddress = await TrackerContract.userToSale(owner, index);
            allSales.push(SaleAddress);
          }
          if (setter != undefined) {
            setter(allSales);
          }

          return allSales;
        }
      );
    }
  } catch (e) {
    console.log("unable to get sale addresses", e);
  }
  // let totalSales = await TrackerContract.totalSales();
};
export const fetchSales = async (
  NetworkChain,
  web3modalRef,
  owner,
  arraySetter,
  Blockchain
) => {
  // console.log("obtaining Sales for ", owner);
  let websiteRentContract = await getBlockchainSpecificWebsiteRentContract(
    Blockchain,
    NetworkChain,
    web3modalRef
  );
  let TrackerContract = await getBlockchainSpecificSaleTrackerContract(
    Blockchain,
    NetworkChain,
    web3modalRef
  );
  try {
    // console.log('fetching array of sales')
    await fetchSaleAddresses(
      TrackerContract,
      owner,
      arraySetter,
      Blockchain
    ).then(async (Sales) => {
      let allSales = [];
      // console.log("Sales obtained are ", Sales);
      // console.log('iterating over')
      Sales?.map(async (_Sale, index) => {
        let hostedWebsite;
        let rentTime;
        if (Blockchain == "tron") {
          hostedWebsite = await websiteRentContract
            .deploymentToWebsite(_Sale)
            .call();
          rentTime = await websiteRentContract.rentTime(hostedWebsite).call();
        } else if (!Blockchain || Blockchain == "ethereum") {
          rentTime = await websiteRentContract.rentTime(hostedWebsite);
          hostedWebsite = await websiteRentContract.deploymentToWebsite(_Sale);
        } else if (Blockchain == "polygon") {
          // polygon pull
        } else {
          // no support
        }

        hostedWebsite =
          rentTime * 1000 > new Date().getTime() ? hostedWebsite : null;

        let SaleContract = await getBlockchainSpecificSaleFactoryContract(
          Blockchain,
          NetworkChain,
          web3modalRef,
          _Sale
        );
        // console.log("sale contract is ", SaleContract);
        let name, symbol, baseURI, startTime, endTime;
        if (Blockchain == "tron") {
          name = await SaleContract.name().call();
          symbol = await SaleContract.symbol().call();
          baseURI = await SaleContract.baseURI().call();
          startTime = await SaleContract.startTime().call();
          endTime = await SaleContract.endTime().call();
        } else if (!Blockchain || Blockchain == "ethereum") {
          name = await SaleContract.name();
          symbol = await SaleContract.symbol();
          baseURI = await SaleContract.baseURI();
          startTime = await SaleContract.startTime();
          endTime = await SaleContract.endTime();
        } else if (Blockchain == "polygon") {
          //
        } else {
          return null;
        }

        let SaleInstance = {
          id: index + 1,
          name,
          symbol,
          baseURI,
          address: _Sale,
          website: hostedWebsite === "" ? null : hostedWebsite,
          startTime,
          endTime,
          owner,
          rentTime: rentTime * 1000,
        };
        // console.log("Sale instance", SaleInstance);
        allSales.push(SaleInstance);
        if (index + 1 == Sales.length) {
          if (arraySetter != undefined) {
            arraySetter(allSales);
          }
        }
        return allSales;
      });
    });
  } catch (e) {
    console.log("unable to fetch deploymments");
  }
};
export const getCustomNetworkSaleContract = async (
  network,
  web3modalRef,
  contractAddress
) => {
  let signer = await getProviderOrSigner(network, web3modalRef, true);
  let SaleContract = new ethers.ContractFactory(
    SaleABI,
    SaleBytecode.object,
    signer
  );
  if (contractAddress) {
    SaleContract = new ethers.Contract(contractAddress, SaleABI, signer);
  }
  return SaleContract;
};

export const getCustomNetworkSaleTrackerContract = async (
  network,
  web3modalRef
) => {
  let signer = await getProviderOrSigner(network, web3modalRef, true);
  const SaleTrackerContract = new ethers.Contract(
    SaleTrackerAddress,
    SaleTrackerABI,
    signer
  );

  return SaleTrackerContract;
};
export const getTronSaleTrackerContract = async (network) => {
  let contractAddress = null;
  if (network == "nile") {
    contractAddress = SaleTrackerNileAddress;
  }
  let tronWeb = await getNetworkTronweb(network);
  let contract = await tronWeb.contract().at(contractAddress);
  // console.log("sale tracker is ", contract);
  return contract;
};
export const getTronSaleFactory = async (network, contractAddress) => {
  let tronWeb = await getNetworkTronweb(network);
  let contract = await tronWeb.contract().at(contractAddress);
  return contract;
};